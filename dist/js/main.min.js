const overlay=document.querySelector("#overlayForModal"),modal=document.querySelector(".modal"),cross=document.querySelector(".modal__cross"),buttonOpen=document.querySelectorAll(".open-modal"),modalToggle=()=>{overlay.classList.toggle("show-overlay"),modal.classList.toggle("show-modal")},handlerOverlay=({target:e})=>{const r=e.classList;(r.contains("open-modal")||r.contains("overlay"))&&modalToggle()};buttonOpen.forEach((e=>{e.addEventListener("click",handlerOverlay)})),cross.addEventListener("click",modalToggle),overlay.addEventListener("click",handlerOverlay);const drawer=document.querySelector(".drawer"),burger=document.querySelector("#burger"),drawerBtn=document.querySelector(".drawer__btn"),drawerCross=document.querySelector(".drawer__cross"),overlayForDrawer=document.querySelector("#overlayForDrawer"),openModalInDrawer=document.querySelector("#openModalInDrawer"),drawerToggle=()=>{overlayForDrawer.classList.toggle("show-overlay"),drawer.classList.toggle("show-drawer")},closeDrawer=async()=>{drawer.classList.add("close-drawer"),await new Promise(((e,r)=>{setTimeout((()=>{overlayForDrawer.classList.remove("show-overlay"),drawer.classList.remove("show-drawer","close-drawer")}),400)})),await clearTimeout()},closeDrawerOpenModal=async()=>{drawer.classList.add("close-drawer"),await new Promise(((e,r)=>{setTimeout((()=>{overlayForDrawer.classList.remove("show-overlay"),drawer.classList.remove("show-drawer","close-drawer"),e(!0)}),400)})).then((e=>{modalToggle()}))};burger.addEventListener("click",drawerToggle),drawerCross.addEventListener("click",closeDrawer);const links=document.querySelector(".drawer__ul");links.addEventListener("click",(()=>{closeDrawer()})),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll(".tel"),(function(e){var r;function a(e){e.keyCode&&(r=e.keyCode),this.selectionStart<3&&e.preventDefault();var a="+7 (___) ___ ____",o=0,t=a.replace(/\D/g,""),l=this.value.replace(/\D/g,""),s=a.replace(/[_\d]/g,(function(e){return o<l.length?l.charAt(o++)||t.charAt(o):e}));-1!=(o=s.indexOf("_"))&&(o<5&&(o=3),s=s.slice(0,o));var n=a.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(n=new RegExp("^"+n+"$")).test(this.value)||this.value.length<5||r>47&&r<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",a,!1),e.addEventListener("focus",a,!1),e.addEventListener("blur",a,!1),e.addEventListener("keydown",a,!1)}))}));